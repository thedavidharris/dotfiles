#!/usr/bin/env bash
# =============================================================================
# Monitor Pasteboard
# Monitor pasteboard/clipboard for changes and display updates
# =============================================================================
# Usage: pastas
# Example: pastas
#
# Description:
#   Continuously monitors the pasteboard/clipboard for changes and
#   displays new values. Press Ctrl+C to exit.

set -euo pipefail

trap 'exit 0' SIGINT

last_value=''

while true
do
  value="$(pasta)"

  if [ "$last_value" != "$value" ]; then
    echo "$value"
    last_value="$value"
  fi

  sleep 0.1
done
