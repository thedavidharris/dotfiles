#!/usr/bin/env bash
# =============================================================================
# Copy to Clipboard
# Cross-platform clipboard copy utility
# =============================================================================
# Usage: copy [file]
# Example: echo "text" | copy
#          copy file.txt

set -euo pipefail

if hash pbcopy 2>/dev/null; then
  exec pbcopy
elif hash xclip 2>/dev/null; then
  exec xclip -selection clipboard
elif hash putclip 2>/dev/null; then
  exec putclip
else
  rm -f /tmp/clipboard 2>/dev/null || true
  if [ $# -eq 0 ]; then
    cat > /tmp/clipboard
  else
    cat "$1" > /tmp/clipboard
  fi
fi
