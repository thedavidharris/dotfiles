#!/bin/bash

# Sync VSCode settings back to chezmoi
# Run this after making changes in VSCode to pull them back into dotfiles

set -euo pipefail

VSCODE_SETTINGS="$HOME/Library/Application Support/Code/User/settings.json"
CHEZMOI_SETTINGS="$HOME/.local/share/chezmoi/dot_config/Code/User/settings.json"

if [[ ! -f "$VSCODE_SETTINGS" ]]; then
    echo "‚ùå VSCode settings file not found at: $VSCODE_SETTINGS"
    exit 1
fi

echo "üîÑ Syncing VSCode settings to chezmoi..."

# Copy current VSCode settings to chezmoi
cp "$VSCODE_SETTINGS" "$CHEZMOI_SETTINGS"

echo "‚úÖ VSCode settings synced to chezmoi"
echo "üìù Remember to:"
echo "   1. Review the changes: chezmoi diff"
echo "   2. Add to git: chezmoi cd && git add ."
echo "   3. Commit changes: chezmoi cd && git commit -m 'Update VSCode settings'"
