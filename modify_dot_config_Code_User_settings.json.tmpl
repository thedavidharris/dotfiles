#!/bin/bash

# This script is called by chezmoi when the target file is modified
# It allows chezmoi to detect when VSCode settings change

# Exit with code 0 if the file should be updated from the source
# Exit with code 1 if the file should remain as-is

VSCODE_SETTINGS="$1"
SOURCE_SETTINGS="$HOME/.local/share/chezmoi/dot_config/Code/User/settings.json"

# Check if the VSCode settings file is newer than our source
if [[ "$VSCODE_SETTINGS" -nt "$SOURCE_SETTINGS" ]]; then
    echo "VSCode settings have been modified. Consider running: sync-vscode-settings"
    # Return 1 to keep the modified version
    exit 1
fi

# Return 0 to use the chezmoi version
exit 0
